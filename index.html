<!DOCTYPE html>
<meta charset="utf-8">
<title>World War II</title>
<style>
 
.node rect {
  cursor: move;
  fill-opacity: .9;
  shape-rendering: crispEdges;
}
 
.node text {
  pointer-events: none;
  text-shadow: 0 1px 0 #fff;
}
 
.link {
  fill: none;
  stroke: #000;
  stroke-opacity: .2;
}
 
.link:hover {
  stroke-opacity: .5;
}
.title {
	font-size: 25px;
	font-family: 'Courier New', Courier, monospace;
	font-weight: bold;
	text-align: center;
	margin-top: 20px;
	text-align:center;
  text-color:white;
}

.titlemain {
	font-size: 50px;
	font-family: 'Courier New', Courier, monospace;
	font-weight: bold;
	text-align: center;
	margin-top: 20px;
	text-align:center;
  text-color:white;
}

chart {
  border: 2px solid gray;
  border-radius: 5px;
  
}

#chart{
  text-align:center; 
}

body {
    background-color: black;
}

.choro
{
  text-align:center; 
  margin-left:10%;
}
.info
{

  font-size : 16px;
  font-family: 'Courier New', Courier, monospace;
	font-weight: italic;
  text-align:center;
  text-color:white;
}

.civ
{
  height:50px;
  width:50px;
}

.pict
{
  text-align:center; 
}

.container {
  position: relative;
  text-align: center;
  color: white;
}

.centered {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
</style>
<body>
<div class="container">
<img src="img/tank2.jpg" style="opacity: 0.2; width:150%"></img>
<div class="centered"><p class="titlemain" style="color:white";><u>Horrors <font size="3px"  style="color:white";> of </font>&nbsp;War </u></p><p class="title"  style="color:white";> Loss <font size="0.5"  style="color:white";> of </font> Human Lives <font size="0.5"  style="color:white";> in </font> World War II</p></div>
</div>
</br>
<p class="info" style="color:white";>As per historical records, World War II </br> was the deadliest war in history with </br> an estimated loss of <b>75-80 million human lives.</b></br>
The deaths due to Military and Civilian attacks </br>alone were estimated at <b>50-56 million.</b></br></br>Although some historians consider only the </br> casualties or deaths in terms of loss of human life </br>some argue that it would be unfair to sum up </br>the losses based 
on just the two categories.</br>
This visualization breaks down the human lives lost </br> which encompasses the major types of casualties such as </br> Prionsers of war, Missing persons, Wounded </br> and also accounts for the Nazi atrocity - Holocaust. </p>
</br>
<p class="info" style="color:white;"> The chart below displays the lives lost in 16 countries who were part of the War.</br> Each node represents the category or type of loss. </br> The corresponding number of casualties at each node is represented by the thickness of the link.</br>
The count between each link can be viewed by clicking on the path link. </br> </br><b>Russia and Germany suffered the heaviest losses with 23.4 million and 9.3 million respectively.</b></br>
<b>Military losses accounted for 65% of the total loss of life and 21 million soldiers were wounded during the war.</b></p>

<p id="chart" ></p>
</br>
</br>


<p class="title"  style="color:white";> Military Deaths <font size="3px"  style="color:white";>around the</font> World </br> World War II 
<p class="info" style="color:white;"> As can be seen the amount of Military deaths exceeds the civilian deaths and casualties. </br> </br><b>Russia and China suffered the heaviest losses with 10,700,000 and 4,000,000 respectively.</b></br></p>
<p class="choro"><embed src="templates/choropleth.html" style="width:2000px; height:1000px;"></embed></p>
<p class="title"  style="color:white";> Civilian Deaths <font size="3px"  style="color:white";>around the</font> World </br> World War II 
<p class="info" style="color:white;"> </br> </br><b>Russia, China, India and Western European nations such as Germany, Poland, France, Italy and Czech suffered the heaviest losses.</b></br>
The air strikes by Germany, Britain and USA could be a probable reason for the heavy loss of civilian lives. </p>
<p class="choro"><embed src="templates/choro2.html" style="width:2000px; height:1000px;"></embed></p>
</br>

<p class="title"  style="color:white";> Jews Killed <font size="3px"  style="color:white";>due to </font>Hitler's Final Solution </p>
<p class="info" style="color:white";>The number of Civilian's killed due to Holocaust are too large to ignore.</br>Hitler's final solution was simple. Exterminate all Jews within the reach of the Nazi.</br>
This was not limited to Europe, however European countries suffered the most under this Nazi atrocity. </br> Poland and the Batlic countries lost almost 90% of their Jewish population.</br>
<b>3,000,000 Jews were killed in Poland alone.</b> </br> The chart below shows the Jewish population before and after Holocaust or the Final Solution </br>of the countries that lost more than 50% of their Jewish population.
<p><embed src="templates/stacked.html" style="width:1100px; height:800px; margin-left:15%;"></embed></p>

<p class="title"  style="color:white";> Total losses (Civilian and Military) <font size="3px"  style="color:white";>in</font> Axis, Allied and Neutral Powers.
<p class="info" style="color:white";>The chart below shows the percentage of casualties in each of the three major sides or powers. </br>
An estimated 71 Million people lost their lives all over the world during the war. </br> Although the Allied powers lost 78% of their population, the Axis powers alone</br>
which only consisted of Bulgaria,Czechoslovakia,Finland,</br>Germany,Hungary,Italy, Japan, Rumania, Yugoslavia contributed to 21% of total lives lost during World War II.</br>
The war did not spare the Neutral powers as well and an estimated 6,31,000 people were killed or injured.
<p class="choro"><embed src="templates/donut.html" style="width:1100px; height:1000px;"></embed></p>
<p class="title"  style="color:white";> Summary <font size="3px"  style="color:white";>of </font> Losses </br> World War II 
<p class="title"><font size="3px"style="color:white";>Choose data to view </font> 
<p class="pict"><embed src="templates/bar.html" style="width:1000px; height:1050px;"></embed></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.13/d3.min.js"></script>
<script src="../js/sankey.js"></script>
<script src="https://d3js.org/colorbrewer.v1.min.js"></script>
<script src="https://rawgit.com/susielu/d3-annotation/master/d3-annotation.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.24.0/d3-legend.js"></script>
<script>

var units = "Casualties/Losses";



 
var margin = {top: 50, right: 50, bottom: 50, left: 200},
    width = 1400 - margin.left - margin.right,
    height = 740 - margin.top - margin.bottom;


	  
var formatNumber = d3.format(",.0f"),    // zero decimal places
    format = function(d) { return formatNumber(d) + " " + units; },
    color = d3.scale.ordinal()
    .range(colorbrewer.Set2[8])
    .domain([0, 16000]);

var svg = d3.select("#chart").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", 
          "translate(" + margin.left + "," + margin.top + ")");

// Set the sankey diagram properties
var sankey = d3.sankey()
    .nodeWidth(36)
    .nodePadding(10)
    .size([width, height]);
 
var path = sankey.link();
 
// load the data
d3.json("data/ww2.json", function(error, graph) {
 
    var nodeMap = {};
    graph.nodes.forEach(function(x) { nodeMap[x.name] = x; });
    graph.links = graph.links.map(function(x) {
      return {
        source: nodeMap[x.source],
        target: nodeMap[x.target],
        value: x.value
      };
    });
 
  sankey
      .nodes(graph.nodes)
      .links(graph.links)
      .layout(32);
 
// add in the links
  var link = svg.append("g").selectAll(".link")
      .data(graph.links)
    .enter().append("path")
      .attr("class", "link")
      .attr("d", path)
      .style("stroke", function(d){return d.color;})
      .style("stroke-width", function(d) { return Math.max(1, d.dy); })
      .sort(function(a, b) { return b.dy - a.dy; });
 
// add the link titles
  link.append("title")
        .text(function(d) {
      	return d.source.name + " â†’ " + 
                d.target.name + "\n" + format(d.value); });
       
 
// add in the nodes
 var node = svg.append("g").selectAll(".node")
      .data(graph.nodes)
    .enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { 
		  return "translate(" + d.x + "," + d.y + ")"; })
    .call(d3.behavior.drag()
      .origin(function(d) { return d; })
      .on("dragstart", function() { 
		  this.parentNode.appendChild(this); })
      .on("drag", dragmove));
      //.style("fill", "white")
 
// add the rectangles for the nodes
   node.append("rect")
      .attr("height", function(d) { return d.dy; })
      .attr("width", sankey.nodeWidth())
      .style("fill", function(d) { 
		  return d.color = color(d.name.replace(/ .*/, "")); })
      .style("stroke", function(d) { 
		  return d3.rgb(d.color).darker(2); })
    .append("title")
      .text(function(d) { 
		  return d.name + "\n" + format(d.value); });

      
 svg.selectAll(".link")
  .style('stroke', function(d){
    return d.source.color;
  }) 
// add in the title for the nodes
  node.append("text")
      .attr("x", -6)
      .attr("y", function(d) { return d.dy / 2; })
      .attr("dy", ".35em")
      .attr("text-anchor", "end")
      .style("fill","#f2edd5")
      .attr("transform", null)
      .text(function(d) { return d.name; })
    .filter(function(d) { return d.x < width / 2; })
      .attr("x", 6 + sankey.nodeWidth())
      .attr("text-anchor", "start")
      .style("fill","#f2edd5");


// append images for Civilians and Military Sankey
 node.append("image")
      .attr("xlink:href", function(d) {
      if ( d.name === "Civilian" )
      return "img/Civilians.jpg";
      })
      .attr("x", -100)
      .attr("y", 30)
      .attr("width", 90)
      .attr("height", 90);
  node.append("image")
      .attr("xlink:href", function(d) {
      if ( d.name === "Military" )
      return "img/Military.jpg";
      })
      .attr("x", -100)
      .attr("y", 100)
      .attr("width", 80)
      .attr("height", 80);
// the function for moving the nodes
  function dragmove(d) {
    d3.select(this).attr("transform", 
        "translate(" + (
        	   d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))
        	) + "," + (
                   d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))
            ) + ")");
    sankey.relayout();
    link.attr("d", path);
  }
  
});
</script>
</body>
</html>